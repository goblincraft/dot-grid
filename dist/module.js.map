{"mappings":"ACAO,IAAA,AAAK,mEAAA;;;WAAA;;;;ACAL,IAAA,AAAK,mEAAA;;WAAA;;;;AFKL,MAAM,4CAAU,AAAC,CAAA;IAEpB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IAEJ,SAAS;QACL,OAAO,SAAS,MAAM,GAAG,SAAS,MAAM,GAAG,SAAS,IAAI;IAC5D;IAEA,SAAS,SAAS,CAAS,EAAE,CAAS;QAClC,KAAK,SAAS;QACd,KAAK,GAAG,CAAC,GAAG,GAAG,SAAS,IAAI,GAAC,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG;QAChD,KAAK,IAAI;IACb;IAEA,SAAS;QACL,MAAM,SAAS;QACf,IAAI,IAAI;QACR,IAAI,IAAI;QACR,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,IAAK;YAC5B,IAAI,MAAM,GACN,KAAK;iBAEL,KAAK,SAAS;YAElB,IAAI;YACJ,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,IAAK;gBAC5B,KAAK;gBACL,SAAS,GAAG;gBACZ,KAAK;YACT;QACJ;IACJ;IAEA,SAAS;QACL,QAAQ,KAAK,KAAK,CAAC,cAAc,MAAM,GAAG;IAC9C;IAEA,SAAS;QACL,QAAQ,KAAK,KAAK,CAAC,cAAc,KAAK,GAAG;IAC7C;IAEA,SAAS;QACL,MAAM,WAAY,SAAS,IAAI,GAAI,mBAAmB;QACtD,aAAa,WAAW;QACxB,cAAc,WAAW;IAC7B;IAEA,SAAS;QACL,gBAAgB;YACZ,OAAO,QAAQ,WAAW;YAC1B,QAAQ,QAAQ,YAAY;QAChC;IACJ;IAEA,SAAS,oBAAoB,UAAuB;QAChD,MAAM,cAAsB,CAAA,GAAA,yCAAgB,EAAE,IAAI;QAClD,MAAM,eAAuB,CAAA,GAAA,yCAAgB,EAAE,KAAK;QACpD,IAAI,UAAU;QACd,IAAI,CAAC,SACD,UAAU;YAAE,MAAM;YAAa,OAAO;YAAc,QAAQ;QAAY;QAE5E,WAAW;IACf;IAEA,SAAS,aAAa,EAAqB;QACvC,UAAU;QACV,QAAQ,KAAK,GAAG,GAAG,WAAW;QAC9B,QAAQ,MAAM,GAAG,GAAG,YAAY;QAChC,OAAiC,QAAQ,UAAU,CAAC;QACpD,KAAK,SAAS,GAAG,SAAS,KAAK;QAC/B,KAAK,WAAW,GAAG,SAAS,KAAK;IACrC;IAEA,SAAS,KAAK,EAAU,EAAE,UAAuB;QAC7C,MAAM,KAAK,SAAS,cAAc,CAAC;QACnC,IAAI,MAAM,cAAc,mBAAmB;YACvC,oBAAoB;YACpB,aAAa;YACb;YACA;YACA;YACA;YACA;QACJ,OACI,MAAM,MAAM,CAAA,GAAA,yCAAK,EAAE,SAAS;IAEpC;IAEA,OAAO;QACH,MAAM;IACV;AAEJ,CAAA","sources":["src/index.ts","src/enums/DefaultDotOptions.ts","src/enums/Errors.ts"],"sourcesContent":["import { DefaultDotOptions } from \"./enums/DefaultDotOptions\";\nimport { Errors } from \"./enums/Errors\";\nimport { DotOptions } from \"./interfaces/IDotOptions\";\nimport { GridSettings } from \"./interfaces/IGridSettings\";\n\nexport const DotGrid = (() => {\n\n    let _options: DotOptions;\n    let _gridSettings: GridSettings;\n    let _canvas: HTMLCanvasElement;\n    let _ctx: CanvasRenderingContext2D;\n    let _cellWidth: number;\n    let _cellHeight: number;\n    let _cols: number;\n    let _rows: number;\n\n    function _computeMargin(): number {\n        return _options.margin ? _options.margin : _options.size;\n    }\n\n    function _drawDot(x: number, y: number): void { \n        _ctx.beginPath();\n        _ctx.arc(x, y, _options.size/2, 0, Math.PI * 2, true);\n        _ctx.fill();\n    }\n\n    function _drawGrid(): void {\n        const margin = _computeMargin();\n        let x = 0;\n        let y = 0;\n        for (let i = 0; i < _rows; i++) {\n            if (i === 0) {\n                y += margin;\n            } else {\n                y += margin * 2;\n            }\n            x = 0;\n            for (let j = 0; j < _cols; j++) {\n                x += margin;\n                _drawDot(x, y);\n                x += margin;\n            }\n        }\n    }\n\n    function _determineNumOfRows(): void {\n        _rows = Math.floor(_gridSettings.height / _cellHeight);\n    }\n\n    function _determineNumOfCols(): void {\n        _cols = Math.floor(_gridSettings.width / _cellWidth);\n    }\n\n    function _computeCellSize(): void {\n        const fullSize = (_options.size + (_computeMargin() * 2));\n        _cellWidth = fullSize / 2;\n        _cellHeight = fullSize / 1.5;\n    }\n\n    function _configureGridSettings(): void {\n        _gridSettings = {\n            width: _canvas.offsetWidth,\n            height: _canvas.offsetHeight\n        }\n    }   \n\n    function _validateDotOptions(dotOptions?: DotOptions): void {\n        const defaultSize: number = DefaultDotOptions.SIZE;\n        const defaultColor: string = DefaultDotOptions.COLOR;\n        let options = dotOptions;\n        if (!options) {\n            options = { size: defaultSize, color: defaultColor, margin: defaultSize }\n        }\n        _options = options;\n    }\n\n    function _setupCanvas(el: HTMLCanvasElement) {\n        _canvas = el;\n        _canvas.width = el.offsetWidth;\n        _canvas.height = el.offsetHeight;\n        _ctx = <CanvasRenderingContext2D>_canvas.getContext(\"2d\");\n        _ctx.fillStyle = _options.color;\n        _ctx.strokeStyle = _options.color;\n    }\n\n    function draw(id: string, dotOptions?: DotOptions): void {\n        const el = document.getElementById(id);\n        if (el && el instanceof HTMLCanvasElement) {\n            _validateDotOptions(dotOptions);\n            _setupCanvas(el);\n            _configureGridSettings();\n            _computeCellSize();\n            _determineNumOfCols();\n            _determineNumOfRows();\n            _drawGrid();\n        } else {\n            throw Error(Errors.NO_CANVAS);\n        }\n    }\n\n    return {\n        draw: draw\n    }\n\n})();","export enum DefaultDotOptions {\n    SIZE = 5,\n    COLOR = \"#000000\"\n}","export enum Errors {\n    NO_CANVAS = \"No valid canvas found from given ID.\"\n}"],"names":[],"version":3,"file":"module.js.map","sourceRoot":"../"}